<h2>Employee Management</h2>

<!-- Error Message -->
<div *ngIf="errMsg" style="color: red; margin-bottom: 10px;">
  {{ errMsg }}
</div>

<!-- Employee Form -->
<form #empForm="ngForm">
  <table>
    <tr>
      <td>Employee ID</td>
      <td>
        <input type="text" name="empId" [(ngModel)]="employee.empId" required />
      </td>
    </tr>
    <tr>
      <td>Password</td>
      <td>
        <input type="password" name="password" [(ngModel)]="employee.password" required />
      </td>
    </tr>

    <tr>
      <td>Employee Name</td>
      <td>
        <input type="text" name="empName" [(ngModel)]="employee.empName" required />
      </td>
    </tr>

    <tr>
      <td>Department ID</td>
      <td>
        <select name="deptId">
          <option value="">-- Select Department --</option>

          <option *ngFor="let dept of departments" [value]="dept.deptId">
            {{ dept.deptName }}
          </option>
        </select>
      </td>
    </tr>

    <tr>
      <td>Role</td>
      <td>
        <input type="text" name="role" [(ngModel)]="employee.role" />
      </td>
    </tr>

    <tr>
      <td colspan="2">
        <button type="button" (click)="addEmployee()">Add</button>
        <button type="button" (click)="showEmployee()">Search</button>
        <button type="button" (click)="updateEmployee()">Update</button>
        <button type="button" (click)="deleteEmployee()">Delete</button>
      </td>
    </tr>
  </table>
</form>

<hr />

<h3>Employee List</h3>

<h3>Employee List</h3>

<table class="employees-table">
  <thead>
    <tr>
      <th>Emp ID</th>
      <th>Password</th>
      <th>Name</th>
      <th>Dept ID</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody>
    @for (emp of employees; track emp) {
    <tr>
      <td>{{ emp.empId }}</td>
      <td>{{ emp.password }}</td>
      <td>{{ emp.empName }}</td>
      <td>{{ emp.deptId }}</td>
      <td>{{ emp.role }}</td>
    </tr>
    } @empty {
    <tr>
      <td colspan="5" class="no-data">No employees found</td>
    </tr>
    }
  </tbody>
</table>